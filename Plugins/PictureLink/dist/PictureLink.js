function c(t){window.enmity.plugins.registerPlugin(t)}const e=window.enmity.react,u=e.React;e.memo,e.useCallback,e.useContext,e.useEffect,e.useImperativeHandle,e.useMemo,e.useReducer,e.useRef,e.useState,e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal;const s=e.Pressable;e.RefreshControl,e.ScrollView,e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable,e.View,e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio,e.FormRow,e.FormSection,e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;const d={byProps:(...t)=>window.enmity.modules.filters.byProps(...t),byName:t=>window.enmity.modules.filters.byName(t),byTypeName:t=>window.enmity.modules.filters.byTypeName(t),byTypeString:(...t)=>window.enmity.modules.filters.byTypeString(...t),byDefaultString:(...t)=>window.enmity.modules.filters.byDefaultString(...t),byString:(...t)=>window.enmity.modules.filters.byString(...t)};function b(...t){return window.enmity.modules.bulk(...t)}function y(t){return window.enmity.patcher.create(t)}const i=y("picture-link"),[w,p,m]=b(t=>{var r;return((r=t.default)==null?void 0:r.name)==="ProfileBanner"},t=>{var r;return((r=t.default)==null?void 0:r.name)==="HeaderAvatar"},d.byProps("transitionToGuild")),f={name:"PictureLink",version:"1.0.0",description:"Allows you to click avatars and banners to open them in-app.",authors:[{name:"eternal",id:"263689920210534400"}],onStart(){i.after(p,"default",(t,[{user:r}],o)=>{var n,a;const l=(a=(n=r==null?void 0:r.getAvatarURL)==null?void 0:n.call(r,!1,4096,!0))==null?void 0:a.replace(".webp",".png");return l?u.createElement(s,{onPress:()=>m.openURL(l)},o):o}),i.after(w,"default",(t,[{bannerSource:r}],o)=>{if(!(r!=null&&r.uri))return o;const n=r.uri.replace(/(?:\?size=\d{3,4})?$/,"?size=4096").replace(".webp",".png");return u.createElement(s,{onPress:()=>m.openURL(n)},o)})},onStop(){i.unpatchAll()}};c(f);
